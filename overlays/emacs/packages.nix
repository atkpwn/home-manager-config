pkgs: epkgs:
with epkgs;
[
  ace-window
  aggressive-indent
  auctex
  avy
  avy-zap
  back-button
  blacken
  cider
  clj-refactor
  clojure-ts-mode
  cmake-font-lock
  cmake-mode
  corfu
  consult
  consult-dir
  consult-eglot
  consult-project-extra
  dashboard
  diminish
  dirvish
  doom-modeline
  doom-themes
  elfeed
  elfeed-webkit
  embark
  embark-consult
  expand-region
  flycheck-clojure
  helpful
  jq-format
  json-mode
  magit
  magit-delta
  marginalia
  markdown-mode
  minions
  multiple-cursors
  nerd-icons-completion
  nerd-icons-corfu
  nerd-icons-dired
  no-littering
  # numpydoc
  openwith
  orderless
  org-appear
  org-modern
  (callPackage ./org-modern-indent.nix {
    inherit (pkgs) fetchFromGitHub;
    inherit (epkgs) trivialBuild compat;
  })
  org-roam
  org-superstar
  pdf-tools
  perspective
  project-treemacs
  pyvenv
  rainbow-delimiters
  rg
  selected
  sly
  sly-asdf
  sly-quicklisp
  sly-repl-ansi-color
  treemacs
  treemacs-magit
  treemacs-nerd-icons
  treesit-grammars.with-all-grammars
  undo-tree
  unfill
  use-package
  vertico
  visual-fill-column
  which-key
  yasnippet
  zoom-window
]
++
[
  cargo-mode
  eglot-java
  go-mode
  kotlin-mode
  lean-mode
  nix-mode
  rust-mode
  shfmt
  typescript-mode
]
